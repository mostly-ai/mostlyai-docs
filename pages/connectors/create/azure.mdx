---
title: 'Use Azure blob storage for synthetic data'
description: 'To use Azure blob storage as a data source or destination for your synthetic data, you need to create an Azure connector.'
---

import { Tabs } from 'nextra/components';
import Image from 'next/image';

# Use Azure blob storage for synthetic data

To use Azure blob storage as a data source or destination for your synthetic data, you need to create an Azure connector.

If you want to keep your generated synthetic data in a separate Azure blob container, you need to create a second connector that points to that container.

## Collect Azure storage account name and access key

To create an Azure storage connector in MOSTLY AI, you need to first obtain your Azure storage account name and access key.

**Steps**

1. In Azure, select **Storage accounts** from the sidebar.
   <Image src="/docimages/connectors/azure/prereq-01-azure-sidebar-storage-accounts.webp" alt="Azure sidebar - select Storage accounts" width={175} height={500} />
2. Copy your storage account name.
   <Image src="/docimages/connectors/azure/prereq-02-azure-storage-account-name.webp" alt="Azure Storage account - copy storage account name" width={350} height={500} />
3. Click your storage account name.
4. For the access key you want to use, click **Show** and then **Copy to clipboard**.
   <Image src="/docimages/connectors/azure/prereq-03-azure-storage-account-copy-access-key.webp" alt="Azure Storage account - copy access key" width={800} height={500} />

## Create an Azure storage connector

With the Azure storage account name and access key, you can now create your Azure storage connector.

<Tabs items={['UI', 'Synthetic Data SDK']}>
<Tabs.Tab>
Create a new Azure blob storage connector from the **Connectors** page.

**Steps**

1.  From the **Connectors** page, select **Microsoft Azure** under the **Connect your data** header.
2.  On the **New connector** modal, configure the connector.

| Field            | Description                                                                      |
| ---------------- | -------------------------------------------------------------------------------- |
| **Name**         | Enter a name that you can distinguish from other connectors.                     |
| **Access type**  | Select whether you want to use the connector as a **source** or **destination**. |
| **Account name** | Your Azure account name.                                                         |
| **Account key**  | Your Azure account key.                                                          |

3.  Click **Save** to save your new Azure connector.
    - MOSTLY AI tests the connection. If you see an error, check the connection details, update them, and click **Save** again.<br /><br />
    - You can click **Save anyway** to save the connector and disregard any errors.

</Tabs.Tab>
<Tabs.Tab>

    If you use the Synthetic Data SDK, create an Azure blob storage connector with `mostly.connect()` and provide a connector configuration dictionary as shown below.

```python copy filename="python" {3,6,9}
c = mostly.connect({
    "name": "Azure Storage Connector",
    "type": "AZURE_STORAGE",
    "access_type": "SOURCE",
    "config": {
        "account_name": "storagebucket"
    },
    "secrets": {
        "account_key": "******"
    },
    "test_connection": True
})
```

</Tabs.Tab>
</Tabs>

## Authenticate with a Service principal

With MOSTLY AI, you can use a Service principal account to access original data stored in Azure blob storage.

<Tabs items={['UI', 'Synthetic Data SDK']}>
<Tabs.Tab>

In the web application, the Azure connector configuration includes configuration details that support the authentication with a Service principal account.

**Steps**

1.  To use a Service principal for authentication in your Azure storage connector, select the **Authenticate with Service Principal** checkbox.
2.  On the **New connector** modal, configure the Azure connector with a Service principal account.

| Field             | Description                                                                      |
| ----------------- | -------------------------------------------------------------------------------- |
| **Name**          | Enter a name that you can distinguish from other connectors.                     |
| **Access type**   | Select whether you want to use the connector as a **source** or **destination**. |
| **Tenant ID**     | Your tenant ID.                                                                  |
| **Client ID**     | Your client ID.                                                                  |
| **Client secret** | Your client secret.                                                              |

3.  Click **Save** to save your new Azure connector.
    - MOSTLY AI tests the connection. If you see an error, check the connection details, update them, and click **Save** again.<br /><br />
    - You can click **Save anyway** to save the connector and disregard any errors.

</Tabs.Tab>
<Tabs.Tab>

    If you use the Synthetic Data SDK, you can create an Azure connector with a Service principal account with the code snippet below.

```python filename="python" copy
config={
    "name": "Azure connector with Service principals",
    "type": "AZURE_STORAGE",
    "access_type": "SOURCE",
    "config": {
        "account_name": "INSERT_ACCOUNT_NAME",
        "tenant_id": "INSERT_TENANT_ID",
        "client_id": "INSERT_CLIENT_ID"
    },
    "secrets": {
        "client_secret": "INSERT_CLIENT_SECRET"
    },
    "test_connection": True

}
c = mostly.connect(config)
```

</Tabs.Tab>
</Tabs>

**What's next**

Depending on whether you created a **source** or a **destination** connector, you can use the connector as:

- [Data source](../use/data-source) for a new generator
- [Data destination](../use/data-destination) for a new synthetic dataset
